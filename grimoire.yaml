# Grimoires Configuration for Seoul Ventures Regle Monorepo
# Generated by /cast:summon
#
# Project Type: Fullstack Monorepo
# - sv-nova-master: Laravel 10 + React + TypeScript + Nova + Filament
# - SeoulVenturesGroupware: Laravel 12 + Vue 3 + Vuetify 3 + TypeScript
# - review-moai-refactoring: Python FastAPI + Celery + MongoDB

version: "0.3.0"

# =============================================================================
# Familiars (AI Assistants)
# =============================================================================
familiars:
  - codex      # Code generation and completion
  - gemini     # Code analysis and research
  - reviewer   # Code review and quality assessment
  - stitch     # UI/UX design (enabled for frontend components)

# =============================================================================
# Rules (Coding Principles)
# =============================================================================
rules:
  - design-principles  # SOLID, DRY, component design patterns
  - security           # OWASP security best practices
  - api-design         # RESTful API conventions

# =============================================================================
# Spells (Available Commands)
# =============================================================================
# Use these with /cast:<spell-name>
# - /cast:dev       - Development workflow
# - /cast:fix       - Debug and fix issues
# - /cast:review    - Code review
# - /cast:analyze   - Codebase analysis
# - /cast:design    - Architecture design
# - /cast:parallel  - Parallel task execution
# - /cast:summon    - Regenerate this config
# - /cast:tdd       - TDD workflow
# - /cast:refactor  - Safe refactoring workflow

# =============================================================================
# Project-Specific Configuration
# =============================================================================
projects:
  sv-nova-master:
    type: fullstack
    backend:
      framework: laravel
      version: "10.x"
      php: "^8.1"
      admin_panels:
        - nova      # Laravel Nova 4.x
        - filament  # Filament 3.x
      database:
        primary: mysql
        secondary: mongodb
    frontend:
      framework: react
      typescript: true
      build_tool: vite
      styling: tailwind
      charts: apexcharts
    features:
      - review-management
      - daily-reports
      - alimtalk-notifications
      - multi-database

  SeoulVenturesGroupware:
    type: fullstack
    backend:
      framework: laravel
      version: "12.x"
      php: "^8.2"
      auth: jwt
      database:
        primary: mysql
        secondary: mongodb
      deployment:
        type: serverless
        platform: bref
    frontend:
      framework: vue
      version: "3"
      ui_library: vuetify3
      typescript: true
      package_manager: bun
      state_management: pinia
      routing: unplugin-vue-router
    warnings:
      - "DO NOT create index.ts (barrel exports) in composables/, @core/composable/, utils/"
      - "This project uses unplugin-auto-import - barrel exports will break auto-imports.d.ts"
    features:
      - review-management
      - meeting-room-booking
      - file-upload-s3
      - multi-tenancy

  review-moai-refactoring:
    type: backend
    framework: fastapi
    language: python
    version: "3.9+"
    deployment: serverless
    async:
      queue: celery
      broker: redis
    database:
      primary: mongodb
      secondary: mysql
    key_patterns:
      - download_driver_pattern   # BaseDownloadDriver template method
      - upload_driver_pattern     # BaseUploadDriver template method
      - factory_pattern           # download_resolver, upload_resolver
    features:
      - 60+ download drivers
      - 20+ upload drivers
      - standard_review_target    # Review standardization DB (NOT cache)
      - playwright-stealth
      - selenium-wire

# =============================================================================
# MCP Servers (Enabled)
# =============================================================================
mcp:
  - serena              # Symbolic code editing
  - context7            # Documentation lookup
  - claude-in-chrome    # Browser automation

# =============================================================================
# Custom Rules
# =============================================================================
custom_rules:
  # Korean language preference for communication
  language: ko-KR

  # Required workflow (from CLAUDE.md)
  workflow_steps:
    - "핵심 구성 요소 점검"
    - "기술 문서 리서치"
    - "엣지 케이스 도출"
    - "브랜치 생성 및 스펙 작성"
    - "메모리에 진행상태 저장"
    - "Draft PR 생성"
    - "구현 및 커밋"
    - "리뷰 및 수정 반복"
    - "최종 PR 업데이트"

  # Deployment rules
  deployment:
    SeoulVenturesGroupware:
      method: github-actions
      warning: "수동 SSH 배포 금지 - GitHub Actions만 사용"
